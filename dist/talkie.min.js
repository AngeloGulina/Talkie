/*! talkie - v0.2.1 */!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.Talkie=t()}}(function(){var t;return function n(t,e,r){function i(u,s){if(!e[u]){if(!t[u]){var c="function"==typeof require&&require;if(!s&&c)return c(u,!0);if(o)return o(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var l=e[u]={exports:{}};t[u][0].call(l.exports,function(n){var e=t[u][1][n];return i(e?e:n)},l,l.exports,n,t,e,r)}return e[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t){!function n(e,r,i){function o(s,c){if(!r[s]){if(!e[s]){var a="function"==typeof t&&t;if(!c&&a)return a(s,!0);if(u)return u(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return o(n?n:t)},f,f.exports,n,e,r,i)}return r[s].exports}for(var u="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t){t("core-js/shim"),t("regenerator/runtime")},{"core-js/shim":2,"regenerator/runtime":3}],2:[function(t,n){!function(t,e,r){"use strict";function i(t){return null!=t&&("object"==typeof t||"function"==typeof t)}function o(t){return"function"==typeof t}function u(t,n,e){t&&(oe(t=e?t:t[hn],Ee)||be(t,Ee,n))}function s(t){return t==r?t===r?"Undefined":"Null":Zn.call(t).slice(8,-1)}function c(t){var n,e=s(t);return e==Z&&(n=t[Ee])?oe(Qn,n)?"~"+n:n:e}function a(){for(var t=arguments.length,n=Sn(t),e=0,r=Be._,i=!1;t>e;)(n[e]=arguments[e++])===r&&(i=!0);return l(this,n,t,i,r,!1)}function l(t,n,e,r,i,o,u){return L(t),function(){var s,c=o?u:this,a=arguments.length,l=0,f=0;if(!r&&!a)return h(t,n,c);if(s=n.slice(),r)for(;e>l;l++)s[l]===i&&(s[l]=arguments[f++]);for(;a>f;)s.push(arguments[f++]);return h(t,s,c)}}function f(t,n,e){if(L(t),~e&&n===r)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}}function h(t,n,e){var i=e===r;switch(0|n.length){case 0:return i?t():t.call(e);case 1:return i?t(n[0]):t.call(e,n[0]);case 2:return i?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return i?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return i?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3]);case 5:return i?t(n[0],n[1],n[2],n[3],n[4]):t.call(e,n[0],n[1],n[2],n[3],n[4])}return t.apply(e,n)}function p(t,n){return oe(t,n)?t[n]:void 0}function d(t){return ie?re(t).concat(ie(t)):re(t)}function g(t,n){for(var e,r=ue(t),i=ee(r),o=i.length,u=0;o>u;)if(r[e=i[u++]]===n)return e}function m(t){return _n(t).split(",")}function y(t){var n=1==t,e=2==t,i=3==t,o=4==t,u=6==t,s=5==t||u;return function(c,a){for(var l,h,p=En(M(this)),d=ue(p),g=f(c,a,3),m=E(d.length),y=0,v=n?Sn(m):e?[]:r;m>y;y++)if((s||y in d)&&(l=d[y],h=g(l,y,p),t))if(n)v[y]=h;else if(h)switch(t){case 3:return!0;case 5:return l;case 6:return y;case 2:v.push(l)}else if(o)return!1;return u?-1:i||o?o:v}}function v(t){return function(n,e){var r=ue(M(this)),i=E(r.length),o=S(e,i);if(t&&n!=n){for(;i>o;o++)if(k(r[o]))return t||o}else for(;i>o;o++)if((t||o in r)&&r[o]===n)return t||o;return!t&&-1}}function b(t,n){L(t);for(var e=n==r?[]:En(n),i=ue(this),o=E(i.length),u=0;o>u&&t(e,i[u],u,this)!==!1;u++);return e}function w(t,n){return"function"==typeof t?t:n}function k(t){return t!=t}function x(t){return isNaN(t)?0:me(t)}function E(t){return t>0?de(x(t),le):0}function S(t,n){var t=x(t);return 0>t?pe(t+n,0):de(t,n)}function _(t,n,e){var r=i(n)?function(t){return n[t]}:n;return function(n){return _n(e?n:this).replace(t,r)}}function A(t){return function(n){var e,i,o=_n(M(this)),u=x(n),s=o.length;return 0>u||u>=s?t?"":r:(e=o.charCodeAt(u),55296>e||e>56319||u+1===s||(i=o.charCodeAt(u+1))<56320||i>57343?t?o.charAt(u):e:t?o.slice(u,u+2):(e-55296<<10)+(i-56320)+65536)}}function I(t,n,e){if(!t)throw Bn(e?n+e:n)}function M(t){if(t==r)throw Bn("Function called on null or undefined");return t}function L(t){return I(o(t),t," is not a function!"),t}function O(t){return I(i(t),t," is not an object!"),t}function P(t,n,e){I(t instanceof n,e,": use the 'new' operator!")}function C(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}function j(t,n,e){return t[n]=e,t}function B(t){return ye?function(n,e,r){return te(n,e,C(t,r))}:j}function T(t){return cn+"("+t+")_"+(++ve+ge())[dn](36)}function F(t,n){return Cn&&Cn[t]||(n?Cn:ke)(cn+Gn+t)}function q(t,n){for(var e in n)be(t,e,n[e]);return t}function W(t,n){be(t,xe,n),Se&&be(t,bn,n)}function N(t,n,e,r){t[hn]=Xn(r||Le,{next:C(1,e)}),u(t,n+" Iterator")}function V(n,r,i,o){var s=n[hn],c=p(s,xe)||p(s,bn)||o&&p(s,o)||i;if(e&&(W(s,c),c!==i)){var a=Yn(c.call(new n));u(a,r+" Iterator",!0),oe(s,bn)&&W(a,t)}Me[r]=c,Me[r+" Iterator"]=t}function $(t,n,e,r,i){function o(t){return function(){return new e(this,t)}}N(e,n,r),V(t,n,o(i),i==Ie?"values":"entries"),i&&G(Ne+Fe*Pe,n,{entries:o(Ae+Ie),keys:o(Ae),values:o(Ie)})}function D(t,n){return{value:n,done:!!t}}function H(t){var n=En(t);return xe in n||oe(Me,c(n))}function R(t){return O((t[xe]||Me[c(t)]).call(t))}function z(t,n,e){return e?h(t,n):t(n)}function U(t,n,e,r){for(var i,o=R(t),u=f(e,r,n?2:1);!(i=o.next()).done;)if(z(u,i.value,n)===!1)return}function G(t,n,r){var i,u,s,c,a=t&qe,l=a?Q:t&We?Q[n]:(Q[n]||Rn)[hn],h=a?je:je[n]||(je[n]={});a&&(r=n);for(i in r)u=!(t&Fe)&&l&&i in l&&(!o(l[i])||Jn(l[i])),s=(u?l:r)[i],t&Ve&&u?c=f(s,Q):t&$e&&!e&&l[i]==s?(c=function(t){return this instanceof s?new s(t):s(t)},c[hn]=s[hn]):c=t&Ne&&o(s)?f(Kn,s):s,h[i]!=s&&be(h,i,c),e&&l&&!u&&(a?l[i]=s:delete l[i]&&be(l,i,s))}var J,Q=t(),Z="Object",K="Function",X="Array",Y="String",tn="Number",nn="RegExp",en="Date",rn="Map",on="Set",un="WeakMap",sn="WeakSet",cn="Symbol",an="Promise",ln="Math",fn="Arguments",hn="prototype",pn="constructor",dn="toString",gn=dn+"Tag",mn="hasOwnProperty",yn="forEach",vn="iterator",bn="@@"+vn,wn="process",kn="createElement",xn=Q[K],En=Q[Z],Sn=Q[X],_n=Q[Y],An=Q[tn],In=Q[nn],Mn=(Q[en],Q[rn]),Ln=Q[on],On=Q[un],Pn=Q[sn],Cn=Q[cn],jn=Q[ln],Bn=Q.TypeError,Tn=Q.setTimeout,Fn=Q.setImmediate,qn=Q.clearImmediate,Wn=Q[wn],Nn=Wn&&Wn.nextTick,Vn=Q.document,$n=Vn&&Vn.documentElement,Dn=(Q.navigator,Q.define),Hn=Sn[hn],Rn=En[hn],zn=xn[hn],Un=1/0,Gn=".",Jn=f(/./.test,/\[native code\]\s*\}\s*$/,1),Qn={Undefined:1,Null:1,Array:1,String:1,Arguments:1,Function:1,Error:1,Boolean:1,Number:1,Date:1,RegExp:1},Zn=Rn[dn],Kn=zn.call,Xn=En.create,Yn=En.getPrototypeOf,te=En.defineProperty,ne=(En.defineProperties,En.getOwnPropertyDescriptor),ee=En.keys,re=En.getOwnPropertyNames,ie=En.getOwnPropertySymbols,oe=f(Kn,Rn[mn],2),ue=En,se=En.assign||function(t){for(var n=En(M(t)),e=arguments.length,r=1;e>r;)for(var i,o=ue(arguments[r++]),u=ee(o),s=u.length,c=0;s>c;)n[i=u[c++]]=o[i];return n},ce=Hn.push,ae=(Hn.unshift,Hn.slice,Hn.splice,Hn.indexOf,Hn[yn]),le=9007199254740991,fe=jn.ceil,he=jn.floor,pe=jn.max,de=jn.min,ge=jn.random,me=jn.trunc||function(t){return(t>0?he:fe)(t)},ye=!!function(){try{return te({},0,Rn)}catch(t){}}(),ve=0,be=B(1),we=Cn?j:be,ke=Cn||T,xe=F(vn),Ee=F(gn),Se=bn in Hn,_e=ke("iter"),Ae=1,Ie=2,Me={},Le={},Oe=xe in Hn,Pe="keys"in Hn&&!("next"in[].keys());W(Le,t);var Ce=s(Wn)==wn,je={},Be=e?Q:je,Te=Q.core,Fe=1,qe=2,We=4,Ne=8,Ve=16,$e=32;Ce&&(n.exports=je),o(Dn)&&Dn.amd&&Dn(function(){return je}),(!Ce||e)&&(je.noConflict=function(){return Q.core=Te,je},Q.core=je),G(qe+Fe,{global:Q}),!function(t,n,e){Jn(Cn)||(Cn=function(n){I(!(this instanceof Cn),cn+" is not a "+pn);var r=T(n);return e&&te(Rn,r,{configurable:!0,set:function(t){be(this,r,t)}}),we(Xn(Cn[hn]),t,r)},be(Cn[hn],dn,function(){return this[t]})),G(qe+$e,{Symbol:Cn});var r={"for":function(t){return oe(n,t+="")?n[t]:n[t]=Cn(t)},iterator:xe,keyFor:a.call(g,n),toStringTag:Ee=F(gn,!0),pure:ke,set:we,useSetter:function(){e=!0},useSimple:function(){e=!1}};ae.call(m("hasInstance,isConcatSpreadable,match,replace,search,species,split,toPrimitive,unscopables"),function(t){r[t]=F(t)}),G(We,cn,r),u(Cn,cn),G(qe,{Reflect:{ownKeys:d}})}(ke("tag"),{},!0),!function(t,n){function o(n){return t(n=+n)&&0!=n?0>n?-o(-n):v(n+b(n*n+1)):n}function a(t){if(i(t)&&t instanceof In)throw Bn()}var l=Q.RangeError,h=An.isInteger||function(n){return!i(n)&&t(n)&&he(n)===n},p=jn.sign||function(t){return 0==(t=+t)||t!=t?t:0>t?-1:1},d=jn.pow,g=jn.abs,m=jn.exp,v=jn.log,b=jn.sqrt,L=_n.fromCharCode,P=A(!0),C={assign:se,is:function(t,n){return t===n?0!==t||1/t===1/n:t!=t&&n!=n}};"__proto__"in Rn&&function(t,n){try{n=f(Kn,ne(Rn,"__proto__").set,2),n({},Hn)}catch(e){t=!0}C.setPrototypeOf=function(e,r){return O(e),I(null===r||i(r),r,": can't set as prototype!"),t?e.__proto__=r:n(e,r),e}}(),G(We,Z,C),G(We,tn,{EPSILON:d(2,-52),isFinite:function(n){return"number"==typeof n&&t(n)},isInteger:h,isNaN:k,isSafeInteger:function(t){return h(t)&&g(t)<=le},MAX_SAFE_INTEGER:le,MIN_SAFE_INTEGER:-le,parseFloat:parseFloat,parseInt:parseInt}),G(We,ln,{acosh:function(t){return 1>t?0/0:v(t+b(t*t-1))},asinh:o,atanh:function(t){return 0==t?+t:v((1+ +t)/(1-t))/2},cbrt:function(t){return p(t)*d(g(t),1/3)},clz32:function(t){return(t>>>=0)?32-t[dn](2).length:32},cosh:function(t){return(m(t)+m(-t))/2},expm1:function(t){return 0==t?+t:t>-1e-6&&1e-6>t?+t+t*t/2:m(t)-1},fround:function(t){return new Float32Array([t])[0]},hypot:function(){for(var t,n=0,e=arguments.length;e--;){if(t=+arguments[e],t==Un||t==-Un)return Un;n+=t*t}return b(n)},imul:function(t,n){var e=65535,r=e&t,i=e&n;return 0|r*i+((e&t>>>16)*i+r*(e&n>>>16)<<16>>>0)},log1p:function(t){return t>-1e-8&&1e-8>t?t-t*t/2:v(1+ +t)},log10:function(t){return v(t)/jn.LN10},log2:function(t){return v(t)/jn.LN2},sign:p,sinh:function(t){return 0==t?+t:(m(t)-m(-t))/2},tanh:function(n){return t(n)?0==n?+n:(m(n)-m(-n))/(m(n)+m(-n)):p(n)},trunc:me}),u(jn,ln,!0),G(We,Y,{fromCodePoint:function(){for(var t,n=[],e=arguments.length,r=0;e>r;){if(t=+arguments[r++],S(t,1114111)!==t)throw l(t+" is not a valid code point");n.push(65536>t?L(t):L(((t-=65536)>>10)+55296,t%1024+56320))}return n.join("")},raw:function(t){for(var n=ue(M(t.raw)),e=E(n.length),r=arguments.length,i=[],o=0;e>o;)i.push(_n(n[o++])),r>o&&i.push(_n(arguments[o]));return i.join("")}}),G(Ne,Y,{codePointAt:A(!1),endsWith:function(t,n){a(t);var e=this.length,i=n===r?e:de(E(n),e);return t+="",_n(this).slice(i-t.length,i)===t},includes:function(t,n){return!!~_n(M(this)).indexOf(t,n)},repeat:function(t){var n=_n(M(this)),e="",r=x(t);if(0>r||r==Un)throw l("Count can't be negative");for(;r>0;(r>>>=1)&&(n+=n))1&r&&(e+=n);return e},startsWith:function(t,n){a(t);var e=E(de(n,this.length));return t+="",_n(this).slice(e,e+t.length)===t}}),$(_n,Y,function(t){we(this,_e,{o:_n(t),i:0})},function(){var t,n=this[_e],e=n.o,r=n.i;return r>=e.length?D(1):(t=P.call(e,r),n.i+=t.length,D(0,t))}),G(We,X,{from:function(t,n,e){var i,o=En(M(t)),u=new(w(this,Sn)),s=n!==r,c=s?f(n,e,2):r,a=0;if(H(o))for(var l,h=R(o);!(l=h.next()).done;a++)u[a]=s?c(l.value,a):l.value;else for(i=E(o.length);i>a;a++)u[a]=s?c(o[a],a):o[a];return u.length=a,u},of:function(){for(var t=0,n=arguments.length,e=new(w(this,Sn))(n);n>t;)e[t]=arguments[t++];return e.length=n,e}}),G(Ne,X,{copyWithin:function(t,n,e){var i=En(M(this)),o=E(i.length),u=S(t,o),s=S(n,o),c=e===r?o:S(e,o),a=de(c-s,o-u),l=1;for(u>s&&s+a>u&&(l=-1,s=s+a-1,u=u+a-1);a-->0;)s in i?i[u]=i[s]:delete i[u],u+=l,s+=l;return i},fill:function(t,n,e){for(var i=En(M(this)),o=E(i.length),u=S(n,o),s=e===r?o:S(e,o);s>u;)i[u++]=t;return i},find:y(5),findIndex:y(6)}),$(Sn,X,function(t,n){we(this,_e,{o:ue(t),i:0,k:n})},function(){var t=this[_e],n=t.o,e=t.k,i=t.i++;return!n||i>=n.length?(t.o=r,D(1)):e==Ae?D(0,i):e==Ie?D(0,n[i]):D(0,[i,n[i]])},Ie),Me[fn]=Me[X],u(Q.JSON,"JSON",!0),e&&(n[Ee]=Gn,s(n)!=Gn&&be(Rn,dn,function(){return"[object "+c(this)+"]"}),"g"!=/./g.flags&&te(In[hn],"flags",{configurable:!0,get:_(/^.*\/(\w*)$/,"$1")}))}(isFinite,{}),o(Fn)&&o(qn)||function(t){function n(t){if(oe(d,t)){var n=d[t];delete d[t],n()}}function e(t){n(t.data)}var r,i,u,s=Q.postMessage,c=Q.addEventListener,l=Q.MessageChannel,p=0,d={};Fn=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return d[++p]=function(){h(o(t)?t:xn(t),n)},r(p),p},qn=function(t){delete d[t]},Ce?r=function(t){Nn(a.call(n,t))}:c&&o(s)&&!Q.importScripts?(r=function(t){s(t,"*")},c("message",e,!1)):o(l)?(i=new l,u=i.port2,i.port1.onmessage=e,r=f(u.postMessage,u,1)):r=Vn&&t in Vn[kn]("script")?function(e){$n.appendChild(Vn[kn]("script"))[t]=function(){$n.removeChild(this),n(e)}}:function(t){Tn(a.call(n,t),0)}}("onreadystatechange"),G(qe+Ve,{setImmediate:Fn,clearImmediate:qn}),!function(t,n){o(t)&&o(t.resolve)&&t.resolve(n=new t(xn()))==n||function(n,e){function u(t){var n;return i(t)&&(n=t.then),o(n)?n:!1}function s(t){var e=t.chain;e.length&&n(function(){for(var n=t.msg,r=1==t.state,i=0;e.length>i;)!function(t){var e,i,o=r?t.ok:t.fail;try{o?(e=o===!0?n:o(n),e===t.P?t.rej(Bn(an+"-chain cycle")):(i=u(e))?i.call(e,t.res,t.rej):t.res(e)):t.rej(n)}catch(s){t.rej(s)}}(e[i++]);e.length=0})}function c(t){var n,e,r=this;if(!r.done){r.done=!0,r=r.def||r;try{(n=u(t))?(e={def:r,done:!1},n.call(t,f(c,e,1),f(a,e,1))):(r.msg=t,r.state=1,s(r))}catch(i){a.call(e||{def:r,done:!1},i)}}}function a(t){var n=this;n.done||(n.done=!0,n=n.def||n,n.msg=t,n.state=2,s(n))}t=function(n){L(n),P(this,t,an);var i={chain:[],state:0,done:!1,msg:r};be(this,e,i);try{n(f(c,i,1),f(a,i,1))}catch(o){a.call(i,o)}},q(t[hn],{then:function(t,n){var r={ok:o(t)?t:!0,fail:o(n)?n:!1},i=r.P=new this[pn](function(t,n){r.res=L(t),r.rej=L(n)}),u=this[e];return u.chain.push(r),u.state&&s(u),i},"catch":function(t){return this.then(r,t)}}),q(t,{all:function(t){var n=this,e=[];return new n(function(r,i){U(t,!1,ce,e);var o=e.length,u=Sn(o);o?ae.call(e,function(t,e){n.resolve(t).then(function(t){u[e]=t,--o||r(u)},i)}):r(u)})},race:function(t){var n=this;return new n(function(e,r){U(t,!1,function(t){n.resolve(t).then(e,r)})})},reject:function(t){return new this(function(n,e){e(t)})},resolve:function(t){return i(t)&&Yn(t)===this[hn]?t:new this(function(n){n(t)})}})}(Nn||Fn,ke("def")),u(t,an),G(qe+Fe*!Jn(t),{Promise:t})}(Q[an]),!function(){function t(t,n,i,o,s,c){function a(t,n){return n!=r&&U(n,s,t[p],t),t}function f(t,n){var r=v[t];e&&be(v,t,function(t,e){var i=r.call(this,0===t?0:t,e);return n?this:i})}var p=s?"set":"add",v=t&&t[hn],b={};if(Jn(t)&&(c||!Pe&&oe(v,"entries"))){var w,k=t,x=new t,E=x[p](c?{}:-0,1);Oe&&t.length||(t=function(e){return P(this,t,n),a(new k,e)},t[hn]=v),c||x[yn](function(t,n){w=1/n===-Un}),w&&(f("delete"),f("has"),s&&f("get")),(w||E!==x)&&f(p,!0)}else t=c?function(e){P(this,t,n),we(this,l,y++),a(this,e)}:function(e){var i=this;P(i,t,n),we(i,h,Xn(null)),we(i,m,0),we(i,d,r),we(i,g,r),a(i,e)},q(q(t[hn],i),o),c||te(t[hn],"size",{get:function(){return M(this[m])}});return u(t,n),b[n]=t,G(qe+$e+Fe*!Jn(t),b),c||$(t,n,function(t,n){we(this,_e,{o:t,k:n})},function(){for(var t=this[_e],n=t.o,e=t.k,i=t.l;i&&i.r;)i=i.p;return n&&(t.l=i=i?i.n:n[g])?e==Ae?D(0,i.k):e==Ie?D(0,i.v):D(0,[i.k,i.v]):(t.o=r,D(1))},s?Ae+Ie:Ie),t}function n(t,n){if(!i(t))return("string"==typeof t?"S":"P")+t;if(!oe(t,l)){if(!n)return"";be(t,l,++y)}return"O"+t[l]}function o(t,e,r){var i,o=n(e,!0),u=t[h],s=t[d];return o in u?u[o].v=r:(i=u[o]={k:e,v:r,p:s},t[g]||(t[g]=i),s&&(s.n=i),t[d]=i,t[m]++),t}function s(t,n){var e=t[h],r=e[n],i=r.n,o=r.p;delete e[n],r.r=!0,o&&(o.n=i),i&&(i.p=o),t[g]==r&&(t[g]=i),t[d]==r&&(t[d]=o),t[m]--}function c(t,n,e){return oe(O(n),p)||be(n,p,{}),n[p][t[l]]=e,t}function a(t){return i(t)&&oe(t,p)&&oe(t[p],this[l])}var l=ke("uid"),h=ke("data"),p=ke("weak"),d=ke("last"),g=ke("first"),m=ye?ke("size"):"size",y=0,v={clear:function(){for(var t in this[h])s(this,t)},"delete":function(t){var e=n(t),r=e in this[h];return r&&s(this,e),r},forEach:function(t,n){for(var e,r=f(t,n,3);e=e?e.n:this[g];)for(r(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return n(t)in this[h]}};Mn=t(Mn,rn,{get:function(t){var e=this[h][n(t)];return e&&e.v},set:function(t,n){return o(this,0===t?0:t,n)}},v,!0),Ln=t(Ln,on,{add:function(t){return o(this,t=0===t?0:t,t)}},v);var b={"delete":function(t){return a.call(this,t)&&delete t[p][this[l]]},has:a};On=t(On,un,{get:function(t){return i(t)&&oe(t,p)?t[p][this[l]]:void 0},set:function(t,n){return c(this,t,n)}},b,!0,!0),Pn=t(Pn,sn,{add:function(t){return c(this,t,!0)}},b,!1,!0)}(),!function(){function t(t){return function(n){var e,r=ue(n),i=ee(n),o=i.length,u=0,s=Sn(o);if(t)for(;o>u;)s[u]=[e=i[u++],r[e]];else for(;o>u;)s[u]=r[i[u++]];return s}}G(Ne,X,{includes:v(!0)}),G(Ne,Y,{at:A(!0)}),G(We,Z,{values:t(!1),entries:t(!0)}),G(We,nn,{escape:_(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})}(),!function(n){function e(t){if(t){var n=t[hn];be(n,J,n.get),be(n,r,n.set),be(n,i,n["delete"])}}J=F(n+"Get",!0);var r=F(n+on,!0),i=F(n+"Delete",!0);G(We,cn,{referenceGet:J,referenceSet:r,referenceDelete:i}),be(zn,J,t),e(Mn),e(On)}("reference"),!function(){function t(t,n){G(We,X,b.call(m(t),function(t,e){e in Hn&&(t[e]=f(Kn,Hn[e],n))},{}))}t("pop,reverse,shift,keys,values,entries",1),t("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),t("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn")}()}(Function("return this"),!0)},{}],3:[function(t,n,e){!function(){function t(t,n,e,r){return new i(t,n,e||null,r||[])}function n(){}function r(){}function i(t,n,e,r){function i(n,r){if(c===m)throw new Error("Generator is already running");if(c===y)return a();for(;;){var i=u.delegate;if(i){try{var o=i.iterator[n](r);n="next",r=l}catch(s){u.delegate=null,n="throw",r=s;continue}if(!o.done)return c=g,o;u[i.resultName]=o.value,u.next=i.nextLoc,u.delegate=null}if("next"===n){if(c===d&&"undefined"!=typeof r)throw new TypeError("attempt to send "+JSON.stringify(r)+" to newborn generator");c===g?u.sent=r:delete u.sent}else if("throw"===n){if(c===d)throw c=y,r;u.dispatchException(r)&&(n="next",r=l)}else"return"===n&&u.abrupt("return",r);c=m;try{var f=t.call(e,u);c=u.done?y:g;var o={value:f,done:u.done};if(f!==v)return o;u.delegate&&"next"===n&&(r=l)}catch(h){c=y,"next"===n?u.dispatchException(h):r=h}}}var o=n?Object.create(n.prototype):this,u=new s(r),c=d;return o.next=i.bind(o,"next"),o["throw"]=i.bind(o,"throw"),o["return"]=i.bind(o,"return"),o}function o(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2]),this.tryEntries.push(n)}function u(t,n){var e=t.completion||{};e.type=0===n?"normal":"return",delete e.arg,t.completion=e}function s(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(o,this),this.reset()}function c(t){function n(){for(;++r<t.length;)if(f.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=l,n.done=!0,n}if(t){var e=t[h];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1;return n.next=n}}return{next:a}}function a(){return{value:l,done:!0}}var l,f=Object.prototype.hasOwnProperty,h="function"==typeof Symbol&&Symbol.iterator||"@@iterator";if("object"!=typeof regeneratorRuntime){var p=regeneratorRuntime="undefined"==typeof e?{}:e;p.wrap=t;var d="suspendedStart",g="suspendedYield",m="executing",y="completed",v={},b=r.prototype=i.prototype;n.prototype=b.constructor=r,r.constructor=n,n.displayName="GeneratorFunction",p.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return e?e===n||"GeneratorFunction"===(e.displayName||e.name):!1},p.mark=function(t){return t.__proto__=r,t.prototype=Object.create(b),t},p.async=function(n,e,r,i){return new Promise(function(o,u){function s(t){try{var n=this(t),e=n.value}catch(r){return u(r)}n.done?o(e):Promise.resolve(e).then(a,l)}var c=t(n,e,r,i),a=s.bind(c.next),l=s.bind(c["throw"]);a()})},b[h]=function(){return this},b.toString=function(){return"[object Generator]"},p.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},p.values=c,s.prototype={constructor:s,reset:function(){this.prev=0,this.next=0,this.sent=l,this.done=!1,this.delegate=null,this.tryEntries.forEach(u);for(var t,n=0;f.call(this,t="t"+n)||20>n;++n)this[t]=null},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){function n(n,r){return o.type="throw",o.arg=t,e.next=n,!!r}if(this.done)throw t;for(var e=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=f.call(i,"catchLoc"),s=f.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},_findFinallyEntry:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc<=this.prev&&f.call(e,"finallyLoc")&&(e.finallyLoc===t||this.prev<e.finallyLoc))return e}},abrupt:function(t,n){var e=this._findFinallyEntry(),r=e?e.completion:{};return r.type=t,r.arg=n,e?this.next=e.finallyLoc:this.complete(r),v},complete:function(t){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type&&(this.rval=t.arg,this.next="end"),v},finish:function(t){var n=this._findFinallyEntry(t);return this.complete(n.completion)},"catch":function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var i=r.arg;u(e,n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:c(t),resultName:n,nextLoc:e},v}}}}()},{}]},{},[1])},{}],2:[function(n,e){(function(n){(function(){var r,i,o,u,s,c,a,l,f,h,p,d,g,m,y,v,b,w,k,x,E,S,_,A,I,M,L,O,P,C,j,B,T,F,q,W,N,V,$,D,H,R,z,U,G,J,Q,Z,K,X,Y,tn,nn,en,rn,on,un,sn,cn,an,ln,fn,hn,pn,dn,gn,mn,yn,vn,bn={}.hasOwnProperty,wn=[].slice,kn=function(t,n){function e(){this.constructor=t}for(var r in n)bn.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},xn=function(t,n){return function(){return t.apply(n,arguments)}};r={toString:function(){return"Bacon"}},r.version="0.7.42",d=("undefined"!=typeof n&&null!==n?n:this).Error,yn={indexOf:Array.prototype.indexOf?function(t,n){return t.indexOf(n)}:function(t,n){var e,r,i,o;for(e=i=0,o=t.length;o>i;e=++i)if(r=t[e],n===r)return e;return-1},indexWhere:function(t,n){var e,r,i,o;for(e=i=0,o=t.length;o>i;e=++i)if(r=t[e],n(r))return e;return-1},head:function(t){return t[0]},always:function(t){return function(){return t}},negate:function(t){return function(n){return!t(n)}},empty:function(t){return 0===t.length},tail:function(t){return t.slice(1,t.length)},filter:function(t,n){var e,r,i,o;for(e=[],i=0,o=n.length;o>i;i++)r=n[i],t(r)&&e.push(r);return e},map:function(t,n){var e,r,i,o;for(o=[],r=0,i=n.length;i>r;r++)e=n[r],o.push(t(e));return o},each:function(t,n){var e,r;for(e in t)r=t[e],n(e,r);return void 0},toArray:function(t){return z(t)?t:[t]},contains:function(t,n){return-1!==yn.indexOf(t,n)},id:function(t){return t},last:function(t){return t[t.length-1]},all:function(t,n){var e,r,i;for(null==n&&(n=yn.id),r=0,i=t.length;i>r;r++)if(e=t[r],!n(e))return!1;return!0},any:function(t,n){var e,r,i;for(null==n&&(n=yn.id),r=0,i=t.length;i>r;r++)if(e=t[r],n(e))return!0;return!1},without:function(t,n){return yn.filter(function(n){return n!==t},n)},remove:function(t,n){var e;return e=yn.indexOf(n,t),e>=0?n.splice(e,1):void 0},fold:function(t,n,e){var r,i,o;for(i=0,o=t.length;o>i;i++)r=t[i],n=e(n,r);return n},flatMap:function(t,n){return yn.fold(n,[],function(n,e){return n.concat(t(e))})},cached:function(t){var n;return n=y,function(){return n===y&&(n=t(),t=void 0),n}},toString:function(t){var n,e,r,i;try{return un++,null==t?"undefined":G(t)?"function":z(t)?un>5?"[..]":"["+yn.map(yn.toString,t).toString()+"]":null!=(null!=t?t.toString:void 0)&&t.toString!==Object.prototype.toString?t.toString():"object"==typeof t?un>5?"{..}":(e=function(){var e;e=[];for(r in t)bn.call(t,r)&&(i=function(){try{return t[r]}catch(e){return n=e}}(),e.push(yn.toString(r)+":"+yn.toString(i)));return e}(),"{"+e+"}"):t}finally{un--}}},un=0,r._=yn,r.scheduler={setTimeout:function(t,n){return setTimeout(t,n)},setInterval:function(t,n){return setInterval(t,n)},clearInterval:function(t){return clearInterval(t)},now:function(){return(new Date).getTime()}},r.fromBinder=function(t,n){return null==n&&(n=yn.id),new p(q(r,"fromBinder",t,n),function(e){var i,o,u,s;return s=!1,i=!1,o=function(){return s?void 0:"undefined"!=typeof u&&null!==u?(u(),s=!0):i=!0},u=t(function(){var t,i,u,s,c,a;for(t=1<=arguments.length?wn.call(arguments,0):[],s=n.apply(this,t),z(s)&&yn.last(s)instanceof h||(s=[s]),u=r.more,c=0,a=s.length;a>c;c++)if(i=s[c],u=e(i=ln(i)),u===r.noMore||i.isEnd())return o(),u;return u}),i&&o(),o})},r.$={},r.$.asEventStream=function(t,n,e){var i;return G(n)&&(i=[n,void 0],e=i[0],n=i[1]),gn(this.selector||this,"asEventStream",t,r.fromBinder(function(e){return function(r){return e.on(t,n,r),function(){return e.off(t,n,r)}}}(this),e))},null!=(vn="undefined"!=typeof jQuery&&null!==jQuery?jQuery:"undefined"!=typeof Zepto&&null!==Zepto?Zepto:void 0)&&(vn.fn.asEventStream=r.$.asEventStream),r.fromEventTarget=function(t,n,e){var i,o,u,s,c,a,l,f;return i=null!=(u=null!=(s=null!=(c=t.addEventListener)?c:t.addListener)?s:t.bind)?u:t.on,o=null!=(a=null!=(l=null!=(f=t.removeEventListener)?f:t.removeListener)?l:t.unbind)?a:t.off,gn(r,"fromEventTarget",t,n,r.fromBinder(function(e){return i.call(t,n,e),function(){return o.call(t,n,e)}},e))},r.fromPromise=function(t,n){return gn(r,"fromPromise",t,r.fromBinder(function(e){return t.then(e,function(t){return e(new f(t))}),function(){return n&&"function"==typeof t.abort?t.abort():void 0}},function(t){return[t,W()]}))},r.noMore=["<no-more>"],r.more=["<more>"],r.later=function(t,n){return gn(r,"later",t,n,r.fromPoll(t,function(){return[n,W()]}))},r.sequentially=function(t,n){var e;return e=0,gn(r,"sequentially",t,n,r.fromPoll(t,function(){var t;return t=n[e++],e<n.length?t:e===n.length?[t,W()]:W()}))},r.repeatedly=function(t,n){var e;return e=0,gn(r,"repeatedly",t,n,r.fromPoll(t,function(){return n[e++%n.length]}))},r.spy=function(t){return cn.push(t)},cn=[],sn=function(t){var n,e,r;if(cn.length&&!sn.running)try{for(sn.running=!0,e=0,r=cn.length;r>e;e++)(n=cn[e])(t)}finally{delete sn.running}return void 0},mn=function(t){return function(){var n,e,r,i;return r=arguments[0],n=2<=arguments.length?wn.call(arguments,1):[],"object"==typeof r&&n.length&&(e=r,i=n[0],r=function(){return e[i].apply(e,arguments)},n=n.slice(1)),t.apply(null,[r].concat(wn.call(n)))}},Z=function(t,n){return mn(function(){var e,i,o;return i=arguments[0],e=2<=arguments.length?wn.call(arguments,1):[],o=on(n,[function(t,n){return i.apply(null,wn.call(t).concat([n]))}]),gn.apply(null,[r,t,i].concat(wn.call(e),[r.combineAsArray(e).flatMap(o)]))})},r.fromCallback=Z("fromCallback",function(){var t,n;return n=arguments[0],t=2<=arguments.length?wn.call(arguments,1):[],r.fromBinder(function(e){return K(n,t)(e),rn},function(t){return[t,W()]})}),r.fromNodeCallback=Z("fromNodeCallback",function(){var t,n;return n=arguments[0],t=2<=arguments.length?wn.call(arguments,1):[],r.fromBinder(function(e){return K(n,t)(e),rn},function(t,n){return t?[new f(t),W()]:[n,W()]})}),r.fromPoll=function(t,n){return gn(r,"fromPoll",t,n,r.fromBinder(function(n){var e;return e=r.scheduler.setInterval(n,t),function(){return r.scheduler.clearInterval(e)}},n))},r.interval=function(t,n){return null==n&&(n={}),gn(r,"interval",t,n,r.fromPoll(t,function(){return en(n)}))},r.constant=function(t){return new b(q(r,"constant",t),function(n){return n(R(t)),n(W()),rn})},r.never=function(){return new p(q(r,"never"),function(t){return t(W()),rn})},r.once=function(t){return new p(q(r,"once",t),function(n){return n(ln(t)),n(W()),rn})},r.fromArray=function(t){var n;return A(t),t.length?(n=0,new p(q(r,"fromArray",t),function(e){var i,o,u;return u=!1,o=r.more,i=function(){var s;return o===r.noMore||u||(s=t[n++],o=e(ln(s)),o===r.noMore)?void 0:n===t.length?e(W()):E.afterTransaction(i)},i(),function(){return u=!0}})):gn(r,"fromArray",t,r.never())},r.mergeAll=function(){var t;return t=1<=arguments.length?wn.call(arguments,0):[],z(t[0])&&(t=t[0]),t.length?new p(q.apply(null,[r,"mergeAll"].concat(wn.call(t))),function(n){var e,i,o;return e=0,o=function(i){return function(o){return i.dispatcher.subscribe(function(i){var u;return i.isEnd()?(e++,e===t.length?n(W()):r.more):(u=n(i),u===r.noMore&&o(),u)})}},i=yn.map(o,t),j.apply(null,i)}):r.never()},r.zipAsArray=function(){var t;return t=1<=arguments.length?wn.call(arguments,0):[],z(t[0])&&(t=t[0]),gn.apply(null,[r,"zipAsArray"].concat(wn.call(t),[r.zipWith(t,function(){var t;return t=1<=arguments.length?wn.call(arguments,0):[]})]))},r.zipWith=function(){var t,n,e;return t=arguments[0],n=2<=arguments.length?wn.call(arguments,1):[],G(t)||(e=[t,n[0]],n=e[0],t=e[1]),n=yn.map(function(t){return t.toEventStream()},n),gn.apply(null,[r,"zipWith",t].concat(wn.call(n),[r.when(n,t)]))},r.groupSimultaneous=function(){var t,n,e;return e=1<=arguments.length?wn.call(arguments,0):[],1===e.length&&z(e[0])&&(e=e[0]),n=function(){var n,r,o;for(o=[],n=0,r=e.length;r>n;n++)t=e[n],o.push(new i(t));return o}(),gn.apply(null,[r,"groupSimultaneous"].concat(wn.call(e),[r.when(n,function(){var t;return t=1<=arguments.length?wn.call(arguments,0):[]})]))},r.combineAsArray=function(){var t,n,e,i,o,u,s;for(o=1<=arguments.length?wn.call(arguments,0):[],1===o.length&&z(o[0])&&(o=o[0]),t=u=0,s=o.length;s>u;t=++u)i=o[t],J(i)||(o[t]=r.constant(i));return o.length?(e=function(){var t,e,r;for(r=[],t=0,e=o.length;e>t;t++)n=o[t],r.push(new x(n,!0));return r}(),gn.apply(null,[r,"combineAsArray"].concat(wn.call(o),[r.when(e,function(){var t;return t=1<=arguments.length?wn.call(arguments,0):[]}).toProperty()]))):r.constant([])},r.onValues=function(){var t,n,e;return n=2<=arguments.length?wn.call(arguments,0,e=arguments.length-1):(e=0,[]),t=arguments[e++],r.combineAsArray(n).onValues(t)},r.combineWith=function(){var t,n;return t=arguments[0],n=2<=arguments.length?wn.call(arguments,1):[],gn.apply(null,[r,"combineWith",t].concat(wn.call(n),[r.combineAsArray(n).map(function(n){return t.apply(null,n)})]))},r.combineTemplate=function(t){var n,e,i,o,u,s,c,a,l,f;return c=[],f=[],s=function(t){return t[t.length-1]},l=function(t,n,e){return s(t)[n]=e},n=function(t,n){return function(e,r){return l(e,t,r[n])}},u=function(t,n){return function(e){return l(e,t,n)}},a=function(t){return z(t)?[]:{}},i=function(t,e){var r,i;return J(e)?(f.push(e),c.push(n(t,f.length-1))):e!==Object(e)||"function"==typeof e||e instanceof RegExp||e instanceof Date?c.push(u(t,e)):(i=function(t){return function(n){var r;return r=a(e),l(n,t,r),n.push(r)}},r=function(t){return t.pop()},c.push(i(t)),o(e),c.push(r))},o=function(t){return yn.each(t,i)},o(t),e=function(n){var e,r,i,o,u;for(i=a(t),e=[i],o=0,u=c.length;u>o;o++)(r=c[o])(e,n);return i},gn(r,"combineTemplate",t,r.combineAsArray(f).map(e))},r.retry=function(t){var n,e,i,o,u,s;if(!G(t.source))throw new d("'source' option has to be a function");return s=t.source,o=t.retries||0,i=t.maxRetries||o,n=t.delay||function(){return 0},e=t.isRetryable||function(){return!0},u=function(t){var u,c;return c={source:s,retries:o-1,maxRetries:i,delay:n,isRetryable:e},u=function(){return r.retry(c)},r.later(n(t)).filter(!1).concat(r.once().flatMap(u))},gn(r,"retry",t,s().flatMapError(function(t){return e(t)&&o>0?u({error:t,retriesDone:i-o}):r.once(new f(t))}))},N=0,h=function(){function t(){this.id=++N}return t.prototype.isEvent=function(){return!0},t.prototype.isEnd=function(){return!1
},t.prototype.isInitial=function(){return!1},t.prototype.isNext=function(){return!1},t.prototype.isError=function(){return!1},t.prototype.hasValue=function(){return!1},t.prototype.filter=function(){return!0},t.prototype.inspect=function(){return this.toString()},t.prototype.log=function(){return this.toString()},t}(),m=function(t){function n(t,e){n.__super__.constructor.call(this),!e&&G(t)||t instanceof n?(this.valueF=t,this.valueInternal=void 0):(this.valueF=void 0,this.valueInternal=t)}return kn(n,t),n.prototype.isNext=function(){return!0},n.prototype.hasValue=function(){return!0},n.prototype.value=function(){return this.valueF instanceof n?(this.valueInternal=this.valueF.value(),this.valueF=void 0):this.valueF&&(this.valueInternal=this.valueF(),this.valueF=void 0),this.valueInternal},n.prototype.fmap=function(t){var n,e;return this.valueInternal?(e=this.valueInternal,this.apply(function(){return t(e)})):(n=this,this.apply(function(){return t(n.value())}))},n.prototype.apply=function(t){return new n(t)},n.prototype.filter=function(t){return t(this.value())},n.prototype.toString=function(){return yn.toString(this.value())},n.prototype.log=function(){return this.value()},n}(h),g=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return kn(n,t),n.prototype.isInitial=function(){return!0},n.prototype.isNext=function(){return!1},n.prototype.apply=function(t){return new n(t)},n.prototype.toNext=function(){return new m(this)},n}(m),l=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return kn(n,t),n.prototype.isEnd=function(){return!0},n.prototype.fmap=function(){return this},n.prototype.apply=function(){return this},n.prototype.toString=function(){return"<end>"},n}(h),f=function(t){function n(t){this.error=t}return kn(n,t),n.prototype.isError=function(){return!0},n.prototype.fmap=function(){return this},n.prototype.apply=function(){return this},n.prototype.toString=function(){return"<error> "+yn.toString(this.error)},n}(h),H=0,v=function(){function t(t){this.id=++H,gn(t,this),this.initialDesc=this.desc}return t.prototype.subscribe=function(t){return E.wrappedSubscribe(this,t)},t.prototype.subscribeInternal=function(t){return this.dispatcher.subscribe(t)},t.prototype.onValue=function(){var t;return t=X(arguments),this.subscribe(function(n){return n.hasValue()?t(n.value()):void 0})},t.prototype.onValues=function(t){return this.onValue(function(n){return t.apply(null,n)})},t.prototype.onError=function(){var t;return t=X(arguments),this.subscribe(function(n){return n.isError()?t(n.error):void 0})},t.prototype.onEnd=function(){var t;return t=X(arguments),this.subscribe(function(n){return n.isEnd()?t():void 0})},t.prototype.errors=function(){return gn(this,"errors",this.filter(function(){return!1}))},t.prototype.filter=function(){var t,n;return n=arguments[0],t=2<=arguments.length?wn.call(arguments,1):[],F(this,n,t,function(t){return gn(this,"filter",t,this.withHandler(function(n){return n.filter(t)?this.push(n):r.more}))})},t.prototype.takeWhile=function(){var t,n;return n=arguments[0],t=2<=arguments.length?wn.call(arguments,1):[],F(this,n,t,function(t){return gn(this,"takeWhile",t,this.withHandler(function(n){return n.filter(t)?this.push(n):(this.push(W()),r.noMore)}))})},t.prototype.endOnError=function(){var t,n;return n=arguments[0],t=2<=arguments.length?wn.call(arguments,1):[],null==n&&(n=!0),F(this,n,t,function(t){return gn(this,"endOnError",this.withHandler(function(n){return n.isError()&&t(n.error)?(this.push(n),this.push(W())):this.push(n)}))})},t.prototype.take=function(t){return 0>=t?r.never():gn(this,"take",t,this.withHandler(function(n){return n.hasValue()?(t--,t>0?this.push(n):(0===t&&this.push(n),this.push(W()),r.noMore)):this.push(n)}))},t.prototype.map=function(){var t,n;return n=arguments[0],t=2<=arguments.length?wn.call(arguments,1):[],n instanceof b?n.sampledBy(this,D):F(this,n,t,function(t){return gn(this,"map",t,this.withHandler(function(n){return this.push(n.fmap(t))}))})},t.prototype.mapError=function(){var t;return t=X(arguments),gn(this,"mapError",t,this.withHandler(function(n){return this.push(n.isError()?en(t(n.error)):n)}))},t.prototype.mapEnd=function(){var t;return t=X(arguments),gn(this,"mapEnd",t,this.withHandler(function(n){return n.isEnd()?(this.push(en(t(n))),this.push(W()),r.noMore):this.push(n)}))},t.prototype.doAction=function(){var t;return t=X(arguments),gn(this,"doAction",t,this.withHandler(function(n){return n.hasValue()&&t(n.value()),this.push(n)}))},t.prototype.skip=function(t){return gn(this,"skip",t,this.withHandler(function(n){return n.hasValue()&&t>0?(t--,r.more):this.push(n)}))},t.prototype.skipDuplicates=function(t){return null==t&&(t=function(t,n){return t===n}),gn(this,"skipDuplicates",this.withStateMachine(y,function(n,e){return e.hasValue()?e.isInitial()||n===y||!t(n.get(),e.value())?[new k(e.value()),[e]]:[n,[]]:[n,[e]]}))},t.prototype.skipErrors=function(){return gn(this,"skipErrors",this.withHandler(function(t){return t.isError()?r.more:this.push(t)}))},t.prototype.withStateMachine=function(t,n){var e;return e=t,gn(this,"withStateMachine",t,n,this.withHandler(function(t){var i,o,u,s,c,a,l;for(i=n(e,t),o=i[0],s=i[1],e=o,c=r.more,a=0,l=s.length;l>a;a++)if(u=s[a],c=this.push(u),c===r.noMore)return c;return c}))},t.prototype.scan=function(t,n){var e,i,o;return n=an(n),e=pn(t),o=function(t){return function(o){var u,s,c,a;return u=!1,a=rn,s=r.more,c=function(){return u?void 0:e.forEach(function(t){return u=!0,s=o(new g(function(){return t})),s===r.noMore?(a(),a=rn):void 0})},a=t.dispatcher.subscribe(function(t){var i,a;return t.hasValue()?u&&t.isInitial()?r.more:(t.isInitial()||c(),u=!0,a=e.getOrElse(void 0),i=n(a,t.value()),e=new k(i),o(t.apply(function(){return i}))):(t.isEnd()&&(s=c()),s!==r.noMore?o(t):void 0)}),E.whenDoneWith(i,c),a}}(this),i=new b(q(this,"scan",t,n),o)},t.prototype.fold=function(t,n){return gn(this,"fold",t,n,this.scan(t,n).sampledBy(this.filter(!1).mapEnd().toProperty()))},t.prototype.zip=function(t,n){return null==n&&(n=Array),gn(this,"zip",t,r.zipWith([this,t],n))},t.prototype.diff=function(t,n){return n=an(n),gn(this,"diff",t,n,this.scan([t],function(t,e){return[e,n(t[0],e)]}).filter(function(t){return 2===t.length}).map(function(t){return t[1]}))},t.prototype.flatMap=function(){return $(this,nn(arguments))},t.prototype.flatMapFirst=function(){return $(this,nn(arguments),!0)},t.prototype.flatMapWithConcurrencyLimit=function(){var t,n;return n=arguments[0],t=2<=arguments.length?wn.call(arguments,1):[],gn.apply(null,[this,"flatMapWithConcurrencyLimit",n].concat(wn.call(t),[$(this,nn(t),!1,n)]))},t.prototype.flatMapLatest=function(){var t,n;return t=nn(arguments),n=this.toEventStream(),gn(this,"flatMapLatest",t,n.flatMap(function(e){return tn(t(e)).takeUntil(n)}))},t.prototype.flatMapError=function(t){return gn(this,"flatMapError",t,this.mapError(function(t){return new f(t)}).flatMap(function(n){return n instanceof f?t(n.error):r.once(n)}))},t.prototype.flatMapConcat=function(){return gn.apply(null,[this,"flatMapConcat"].concat(wn.call(arguments),[this.flatMapWithConcurrencyLimit.apply(this,[1].concat(wn.call(arguments)))]))},t.prototype.bufferingThrottle=function(t){return gn(this,"bufferingThrottle",t,this.flatMapConcat(function(n){return r.once(n).concat(r.later(t).filter(!1))}))},t.prototype.not=function(){return gn(this,"not",this.map(function(t){return!t}))},t.prototype.log=function(){var t;return t=1<=arguments.length?wn.call(arguments,0):[],this.subscribe(function(n){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log.apply(console,wn.call(t).concat([n.log()])):void 0}),this},t.prototype.slidingWindow=function(t,n){return null==n&&(n=0),gn(this,"slidingWindow",t,n,this.scan([],function(n,e){return n.concat([e]).slice(-t)}).filter(function(t){return t.length>=n}))},t.prototype.combine=function(t,n){var e;return e=an(n),gn(this,"combine",t,n,r.combineAsArray(this,t).map(function(t){return e(t[0],t[1])}))},t.prototype.decode=function(t){return gn(this,"decode",t,this.combine(r.combineTemplate(t),function(t,n){return n[t]}))},t.prototype.awaiting=function(t){return gn(this,"awaiting",t,r.groupSimultaneous(this,t).map(function(t){var n,e;return n=t[0],e=t[1],0===e.length}).toProperty(!1).skipDuplicates())},t.prototype.name=function(t){return this._name=t,this},t.prototype.withDescription=function(){return q.apply(null,arguments).apply(this)},t.prototype.toString=function(){return this._name?this._name:this.desc.toString()},t.prototype.internalDeps=function(){return this.initialDesc.deps()},t}(),v.prototype.reduce=v.prototype.fold,v.prototype.assign=v.prototype.onValue,v.prototype.inspect=v.prototype.toString,$=function(t,n,e,i){var o,s,c;return c=[t],o=[],s=new p(q(t,"flatMap"+(e?"First":""),n),function(s){var c,a,l,f,h;return l=new u,f=[],h=function(t){var e;return e=tn(n(t.value())),o.push(e),l.add(function(t,n){return e.dispatcher.subscribe(function(i){var u;return i.isEnd()?(yn.remove(e,o),a(),c(n),r.noMore):(i instanceof g&&(i=i.toNext()),u=s(i),u===r.noMore&&t(),u)})})},a=function(){var t;return t=f.shift(),t?h(t):void 0},c=function(t){return t(),l.empty()?s(W()):void 0},l.add(function(n,o){return t.dispatcher.subscribe(function(t){return t.isEnd()?c(o):t.isError()?s(t):e&&l.count()>1?r.more:l.unsubscribed?r.noMore:i&&l.count()>i?f.push(t):h(t)})}),l.unsubscribe}),s.internalDeps=function(){return o.length?c.concat(o):c},s},p=function(t){function n(t,e,r){G(t)&&(r=e,e=t,t=[]),n.__super__.constructor.call(this,t),M(e),this.dispatcher=new a(e,r),sn(this)}return kn(n,t),n.prototype.delay=function(t){return gn(this,"delay",t,this.flatMap(function(n){return r.later(t,n)}))},n.prototype.debounce=function(t){return gn(this,"debounce",t,this.flatMapLatest(function(n){return r.later(t,n)}))},n.prototype.debounceImmediate=function(t){return gn(this,"debounceImmediate",t,this.flatMapFirst(function(n){return r.once(n).concat(r.later(t).filter(!1))}))},n.prototype.throttle=function(t){return gn(this,"throttle",t,this.bufferWithTime(t).map(function(t){return t[t.length-1]}))},n.prototype.bufferWithTime=function(t){return gn(this,"bufferWithTime",t,this.bufferWithTimeOrCount(t,Number.MAX_VALUE))},n.prototype.bufferWithCount=function(t){return gn(this,"bufferWithCount",t,this.bufferWithTimeOrCount(void 0,t))},n.prototype.bufferWithTimeOrCount=function(t,n){var e;return e=function(e){return e.values.length===n?e.flush():void 0!==t?e.schedule():void 0},gn(this,"bufferWithTimeOrCount",t,n,this.buffer(t,e,e))},n.prototype.buffer=function(t,n,e){var i,o,u;return null==n&&(n=rn),null==e&&(e=rn),i={scheduled:!1,end:void 0,values:[],flush:function(){var t;if(this.scheduled=!1,this.values.length>0){if(t=this.push(en(this.values)),this.values=[],null!=this.end)return this.push(this.end);if(t!==r.noMore)return e(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){return this.scheduled?void 0:(this.scheduled=!0,t(function(t){return function(){return t.flush()}}(this)))}},u=r.more,G(t)||(o=t,t=function(t){return r.scheduler.setTimeout(t,o)}),gn(this,"buffer",this.withHandler(function(t){return i.push=function(t){return function(n){return t.push(n)}}(this),t.isError()?u=this.push(t):t.isEnd()?(i.end=t,i.scheduled||i.flush()):(i.values.push(t.value()),n(i)),u}))},n.prototype.merge=function(t){var n;return I(t),n=this,gn(n,"merge",t,r.mergeAll(this,t))},n.prototype.toProperty=function(t){var n,e;return e=0===arguments.length?y:pn(function(){return t}),n=this.dispatcher,new b(q(this,"toProperty",t),function(t){var i,o,u,s;return i=!1,s=rn,o=r.more,u=function(){return i?void 0:e.forEach(function(n){return i=!0,o=t(new g(n)),o===r.noMore?(s(),s=rn):void 0})},s=n.subscribe(function(n){return n.hasValue()?i&&n.isInitial()?r.more:(n.isInitial()||u(),i=!0,e=new k(n),t(n)):(n.isEnd()&&(o=u()),o!==r.noMore?t(n):void 0)}),u(),s})},n.prototype.toEventStream=function(){return this},n.prototype.sampledBy=function(t,n){return gn(this,"sampledBy",t,n,this.toProperty().sampledBy(t,n))},n.prototype.concat=function(t){var e;return e=this,new n(q(e,"concat",t),function(n){var r,i;return i=rn,r=e.dispatcher.subscribe(function(e){return e.isEnd()?i=t.dispatcher.subscribe(n):n(e)}),function(){return r(),i()}})},n.prototype.takeUntil=function(t){var n;return n={},gn(this,"takeUntil",t,r.groupSimultaneous(this.mapEnd(n),t.skipErrors()).withHandler(function(e){var i,o,u,s,c,a;if(e.hasValue()){if(a=e.value(),i=a[0],t=a[1],t.length)return this.push(W());for(o=r.more,s=0,c=i.length;c>s;s++)u=i[s],o=this.push(u===n?W():en(u));return o}return this.push(e)}))},n.prototype.skipUntil=function(t){var n;return n=t.take(1).map(!0).toProperty(!1),gn(this,"skipUntil",t,this.filter(n))},n.prototype.skipWhile=function(){var t,n,e;return n=arguments[0],t=2<=arguments.length?wn.call(arguments,1):[],e=!1,F(this,n,t,function(t){return gn(this,"skipWhile",t,this.withHandler(function(n){return!e&&n.hasValue()&&t(n.value())?r.more:(n.hasValue()&&(e=!0),this.push(n))}))})},n.prototype.holdWhen=function(t){var n,e,i;return i=t.startWith(!1),e=i.filter(function(t){return!t}),n=i.filter(yn.id),gn(this,"holdWhen",t,this.filter(!1).merge(i.flatMapConcat(function(t){return function(i){return i?t.scan([],function(t,n){return t.concat(n)}).sampledBy(e).take(1).flatMap(r.fromArray):t.takeUntil(n)}}(this))))},n.prototype.startWith=function(t){return gn(this,"startWith",t,r.once(t).concat(this))},n.prototype.withHandler=function(t){return new n(q(this,"withHandler",t),this.dispatcher.subscribe,t)},n}(v),b=function(t){function n(t,e,r){G(t)&&(r=e,e=t,t=[]),n.__super__.constructor.call(this,t),M(e),this.dispatcher=new w(this,e,r),sn(this)}return kn(n,t),n.prototype.sampledBy=function(t,e){var i,o,u,s,c;return null!=e?e=an(e):(i=!0,e=function(t){return t.value()}),c=new x(this,!1,i),u=new x(t,!0,i),s=r.when([c,u],e),o=t instanceof n?s.toProperty():s,gn(this,"sampledBy",t,e,o)},n.prototype.sample=function(t){return gn(this,"sample",t,this.sampledBy(r.interval(t,{})))},n.prototype.changes=function(){return new p(q(this,"changes"),function(t){return function(n){return t.dispatcher.subscribe(function(t){return t.isInitial()?void 0:n(t)})}}(this))},n.prototype.withHandler=function(t){return new n(q(this,"withHandler",t),this.dispatcher.subscribe,t)},n.prototype.toProperty=function(){return L(arguments),this},n.prototype.toEventStream=function(){return new p(q(this,"toEventStream"),function(t){return function(n){return t.dispatcher.subscribe(function(t){return t.isInitial()&&(t=t.toNext()),n(t)})}}(this))},n.prototype.and=function(t){return gn(this,"and",t,this.combine(t,function(t,n){return t&&n}))},n.prototype.or=function(t){return gn(this,"or",t,this.combine(t,function(t,n){return t||n}))},n.prototype.delay=function(t){return this.delayChanges("delay",t,function(n){return n.delay(t)})},n.prototype.debounce=function(t){return this.delayChanges("debounce",t,function(n){return n.debounce(t)})},n.prototype.throttle=function(t){return this.delayChanges("throttle",t,function(n){return n.throttle(t)})},n.prototype.delayChanges=function(){var t,n,e;return t=2<=arguments.length?wn.call(arguments,0,e=arguments.length-1):(e=0,[]),n=arguments[e++],gn.apply(null,[this].concat(wn.call(t),[S(this,n(this.changes()))]))},n.prototype.takeUntil=function(t){var n;return n=this.changes().takeUntil(t),gn(this,"takeUntil",t,S(this,n))},n.prototype.startWith=function(t){return gn(this,"startWith",t,this.scan(t,function(t,n){return n}))},n.prototype.bufferingThrottle=function(){var t;return(t=n.__super__.bufferingThrottle.apply(this,arguments)).bufferingThrottle.apply(t,arguments).toProperty()},n}(v),F=function(t,n,e,r){var i;return n instanceof b?(i=n.sampledBy(t,function(t,n){return[t,n]}),r.call(i,function(t){var n,e;return n=t[0],e=t[1],n}).map(function(t){var n,e;return n=t[0],e=t[1]})):(n=K(n,e),r.call(t,n))},S=function(t,n){var e;return e=new p(q(t,"justInitValue"),function(n){var i,o;return o=void 0,i=t.dispatcher.subscribe(function(t){return t.isEnd()||(o=t),r.noMore}),E.whenDoneWith(e,function(){return null!=o&&n(o),n(W())}),i}),e.concat(n).toProperty()},a=function(){function t(t,n){this._subscribe=t,this._handleEvent=n,this.subscribe=xn(this.subscribe,this),this.handleEvent=xn(this.handleEvent,this),this.subscriptions=[],this.queue=[],this.pushing=!1,this.ended=!1,this.prevError=void 0,this.unsubSrc=void 0}return t.prototype.hasSubscribers=function(){return this.subscriptions.length>0},t.prototype.removeSub=function(t){return this.subscriptions=yn.without(t,this.subscriptions)},t.prototype.push=function(t){return t.isEnd()&&(this.ended=!0),E.inTransaction(t,this,this.pushIt,[t])},t.prototype.pushToSubscriptions=function(t){var n,e,i,o,u,s;try{for(o=this.subscriptions,u=0,s=o.length;s>u;u++)i=o[u],e=i.sink(t),(e===r.noMore||t.isEnd())&&this.removeSub(i);return!0}catch(c){throw n=c,this.pushing=!1,this.queue=[],n}},t.prototype.pushIt=function(t){if(this.pushing)return this.queue.push(t),r.more;if(t!==this.prevError){for(t.isError()&&(this.prevError=t),this.pushing=!0,this.pushToSubscriptions(t),this.pushing=!1;this.queue.length;)t=this.queue.shift(),this.push(t);return this.hasSubscribers()?r.more:(this.unsubscribeFromSource(),r.noMore)}},t.prototype.handleEvent=function(t){return this._handleEvent?this._handleEvent(t):this.push(t)},t.prototype.unsubscribeFromSource=function(){return this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},t.prototype.subscribe=function(t){var n;return this.ended?(t(W()),rn):(M(t),n={sink:t},this.subscriptions.push(n),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),M(this.unsubSrc)),function(t){return function(){return t.removeSub(n),t.hasSubscribers()?void 0:t.unsubscribeFromSource()}}(this))},t}(),w=function(t){function n(t,e,r){this.property=t,this.subscribe=xn(this.subscribe,this),n.__super__.constructor.call(this,e,r),this.current=y,this.currentValueRootId=void 0,this.propertyEnded=!1}return kn(n,t),n.prototype.push=function(t){return t.isEnd()&&(this.propertyEnded=!0),t.hasValue()&&(this.current=new k(t),this.currentValueRootId=E.currentEventId()),n.__super__.push.call(this,t)},n.prototype.maybeSubSource=function(t,n){return n===r.noMore?rn:this.propertyEnded?(t(W()),rn):a.prototype.subscribe.call(this,t)},n.prototype.subscribe=function(t){var n,e,i,o;return e=!1,i=r.more,this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)?(n=E.currentEventId(),o=this.currentValueRootId,!this.propertyEnded&&o&&n&&n!==o?(E.whenDoneWith(this.property,function(n){return function(){return n.currentValueRootId===o?t(R(n.current.get().value())):void 0}}(this)),this.maybeSubSource(t,i)):(E.inTransaction(void 0,this,function(){return i=t(R(this.current.get().value()))},[]),this.maybeSubSource(t,i))):this.maybeSubSource(t,i)},n}(a),o=function(t){function n(){this.guardedSink=xn(this.guardedSink,this),this.subscribeAll=xn(this.subscribeAll,this),this.unsubAll=xn(this.unsubAll,this),this.sink=void 0,this.subscriptions=[],this.ended=!1,n.__super__.constructor.call(this,q(r,"Bus"),this.subscribeAll)}return kn(n,t),n.prototype.unsubAll=function(){var t,n,e,r;for(r=this.subscriptions,n=0,e=r.length;e>n;n++)t=r[n],"function"==typeof t.unsub&&t.unsub();return void 0},n.prototype.subscribeAll=function(t){var n,e,r,i;for(this.sink=t,i=C(this.subscriptions),e=0,r=i.length;r>e;e++)n=i[e],this.subscribeInput(n);return this.unsubAll},n.prototype.guardedSink=function(t){return function(n){return function(e){return e.isEnd()?(n.unsubscribeInput(t),r.noMore):n.sink(e)}}(this)},n.prototype.subscribeInput=function(t){return t.unsub=t.input.dispatcher.subscribe(this.guardedSink(t.input))},n.prototype.unsubscribeInput=function(t){var n,e,r,i,o;for(o=this.subscriptions,n=r=0,i=o.length;i>r;n=++r)if(e=o[n],e.input===t)return"function"==typeof e.unsub&&e.unsub(),void this.subscriptions.splice(n,1)},n.prototype.plug=function(t){var n;return O(t),this.ended?void 0:(n={input:t},this.subscriptions.push(n),null!=this.sink&&this.subscribeInput(n),function(n){return function(){return n.unsubscribeInput(t)}}(this))},n.prototype.end=function(){return this.ended=!0,this.unsubAll(),"function"==typeof this.sink?this.sink(W()):void 0},n.prototype.push=function(t){return"function"==typeof this.sink?this.sink(en(t)):void 0},n.prototype.error=function(t){return"function"==typeof this.sink?this.sink(new f(t)):void 0},n}(p),x=function(){function t(t,n,e){this.obs=t,this.sync=n,this.lazy=null!=e?e:!1,this.queue=[]}return t.prototype.subscribe=function(t){return this.obs.dispatcher.subscribe(t)},t.prototype.toString=function(){return this.obs.toString()},t.prototype.markEnded=function(){return this.ended=!0},t.prototype.consume=function(){return this.lazy?{value:yn.always(this.queue[0])}:this.queue[0]},t.prototype.push=function(t){return this.queue=[t]},t.prototype.mayHave=function(){return!0},t.prototype.hasAtLeast=function(){return this.queue.length},t.prototype.flatten=!0,t}(),s=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return kn(n,t),n.prototype.consume=function(){return this.queue.shift()},n.prototype.push=function(t){return this.queue.push(t)},n.prototype.mayHave=function(t){return!this.ended||this.queue.length>=t},n.prototype.hasAtLeast=function(t){return this.queue.length>=t},n.prototype.flatten=!1,n}(x),i=function(t){function n(t){n.__super__.constructor.call(this,t,!0)}return kn(n,t),n.prototype.consume=function(){var t;return t=this.queue,this.queue=[],{value:function(){return t}}},n.prototype.push=function(t){return this.queue.push(t.value())},n.prototype.hasAtLeast=function(){return!0},n}(x),x.isTrigger=function(t){return t instanceof x?t.sync:t instanceof p},x.fromObservable=function(t){return t instanceof x?t:t instanceof b?new x(t,!1):new s(t,!0)},q=function(){var t,n,e;return n=arguments[0],e=arguments[1],t=3<=arguments.length?wn.call(arguments,2):[],(n||e)instanceof c?n||e:new c(n,e,t)},V=function(t){return z(t)?yn.flatMap(V,t):J(t)?[t]:t instanceof x?[t.obs]:[]},c=function(){function t(t,n,e){this.context=t,this.method=n,this.args=e,this.cached=void 0}return t.prototype.deps=function(){return this.cached||(this.cached=V([this.context].concat(this.args)))},t.prototype.apply=function(t){return t.desc=this,t},t.prototype.toString=function(){return yn.toString(this.context)+"."+yn.toString(this.method)+"("+yn.map(yn.toString,this.args)+")"},t}(),gn=function(){var t,n,e;return t=2<=arguments.length?wn.call(arguments,0,e=arguments.length-1):(e=0,[]),n=arguments[e++],q.apply(null,t).apply(n)},r.when=function(){var t,n,e,i,o,u,s,c,a,l,f,h,d,g,m,y,v,b,w,k;if(0===arguments.length)return r.never();for(o=arguments.length,m="when: expecting arguments in the form (Observable+,function)+",_(m,o%2===0),d=[],a=[],n=0,l=[];o>n;){for(l[n]=arguments[n],l[n+1]=arguments[n+1],c=yn.toArray(arguments[n]),t=B(arguments[n+1]),s={f:t,ixs:[]},g=!1,y=0,b=c.length;b>y;y++){for(h=c[y],e=yn.indexOf(d,h),g||(g=x.isTrigger(h)),0>e&&(d.push(h),e=d.length-1),k=s.ixs,v=0,w=k.length;w>v;v++)i=k[v],i.index===e&&i.count++;s.ixs.push({index:e,count:1})}_("At least one EventStream required",g||!c.length),c.length>0&&a.push(s),n+=2}return d.length?(d=yn.map(x.fromObservable,d),u=yn.any(d,function(t){return t.flatten})&&T(yn.map(function(t){return t.obs},d)),f=new p(q.apply(null,[r,"when"].concat(wn.call(l))),function(t){var e,i,o,s,c,l,p;return p=[],o=!1,s=function(t){var e,r,i;for(i=t.ixs,e=0,r=i.length;r>e;e++)if(n=i[e],!d[n.index].hasAtLeast(n.count))return!1;return!0},i=function(t){return!t.sync||t.ended},e=function(t){var e,r,i;for(i=t.ixs,e=0,r=i.length;r>e;e++)if(n=i[e],!d[n.index].mayHave(n.count))return!0},c=function(t){return!t.source.flatten},l=function(l){return function(h){var g,m,y;return m=function(){return E.whenDoneWith(f,g)},y=function(){var e,i,o,u,l,f;if(!(p.length>0))return r.more;for(o=r.more,u=p.pop(),l=0,f=a.length;f>l;l++)if(i=a[l],s(i))return e=function(){var t,e,r,o;for(r=i.ixs,o=[],t=0,e=r.length;e>t;t++)n=r[t],o.push(d[n.index].consume());return o}(),o=t(u.e.apply(function(){var t,n;return n=function(){var n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(t.value());return i}(),i.f.apply(i,n)})),p.length&&(p=yn.filter(c,p)),o===r.noMore?o:y()},g=function(){var n;return n=y(),o&&(o=!1,(yn.all(d,i)||yn.all(a,e))&&(n=r.noMore,t(W()))),n===r.noMore&&h(),n},l.subscribe(function(n){var e;return n.isEnd()?(o=!0,l.markEnded(),m()):n.isError()?e=t(n):(l.push(n),l.sync&&(p.push({source:l,e:n}),u||E.hasWaiters()?m():g())),e===r.noMore&&h(),e||r.more})}},j.apply(null,function(){var t,n,e;for(e=[],t=0,n=d.length;n>t;t++)h=d[t],e.push(l(h));return e}())})):r.never()},T=function(t,n){var e;return null==n&&(n=[]),e=function(t){var r;return yn.contains(n,t)?!0:(r=t.internalDeps(),r.length?(n.push(t),yn.any(r,e)):(n.push(t),!1))},yn.any(t,e)},r.update=function(){var t,n,e,i;for(n=arguments[0],i=2<=arguments.length?wn.call(arguments,1):[],e=function(t){return function(){var n;return n=1<=arguments.length?wn.call(arguments,0):[],function(e){return t.apply(null,[e].concat(n))}}},t=i.length-1;t>0;)i[t]instanceof Function||(i[t]=function(t){return function(){return t}}(i[t])),i[t]=e(i[t]),t-=2;return gn.apply(null,[r,"update",n].concat(wn.call(i),[r.when.apply(r,i).scan(n,function(t,n){return n(t)})]))},j=function(){var t;return t=1<=arguments.length?wn.call(arguments,0):[],new u(t).unsubscribe},u=function(){function t(t){var n,e,r;for(null==t&&(t=[]),this.unsubscribe=xn(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[],e=0,r=t.length;r>e;e++)n=t[e],this.add(n)}return t.prototype.add=function(t){var n,e,r;if(!this.unsubscribed)return n=!1,e=rn,this.starting.push(t),r=function(r){return function(){return r.unsubscribed?void 0:(n=!0,r.remove(e),yn.remove(t,r.starting))}}(this),e=t(this.unsubscribe,r),this.unsubscribed||n||this.subscriptions.push(e),yn.remove(t,this.starting),e},t.prototype.remove=function(t){return this.unsubscribed?void 0:void 0!==yn.remove(t,this.subscriptions)?t():void 0},t.prototype.unsubscribe=function(){var t,n,e,r;if(!this.unsubscribed){for(this.unsubscribed=!0,r=this.subscriptions,n=0,e=r.length;e>n;n++)(t=r[n])();return this.subscriptions=[],this.starting=[]}},t.prototype.count=function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},t.prototype.empty=function(){return 0===this.count()},t}(),r.CompositeUnsubscribe=u,k=function(){function t(t){this.value=t}return t.prototype.getOrElse=function(){return this.value},t.prototype.get=function(){return this.value},t.prototype.filter=function(n){return n(this.value)?new t(this.value):y},t.prototype.map=function(n){return new t(n(this.value))},t.prototype.forEach=function(t){return t(this.value)},t.prototype.isDefined=!0,t.prototype.toArray=function(){return[this.value]},t.prototype.inspect=function(){return"Some("+this.value+")"},t.prototype.toString=function(){return this.inspect()},t}(),y={getOrElse:function(t){return t},filter:function(){return y},map:function(){return y},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},E=function(){var t,n,e,i,o,u,s,c,a,l,f,h,p,d;return l=void 0,f=[],h={},n=[],e=0,t=function(t){return l?n.push(t):t()},p=function(t,n){var e;return l?(e=h[t.id],null==e?(e=h[t.id]=[n],f.push(t)):e.push(n)):n()},o=function(){for(;f.length>0;)s(0);return void 0},s=function(t){var n,e,r,i,o,s;for(e=f[t],r=e.id,i=h[r],f.splice(t,1),delete h[r],u(e),o=0,s=i.length;s>o;o++)(n=i[o])();return void 0},u=function(t){var n,e,r,i,o;for(e=t.internalDeps(),i=0,o=e.length;o>i;i++)n=e[i],u(n),h[n.id]&&(r=yn.indexOf(f,n),s(r));return void 0},a=function(t,r,i,u){var s,c;if(l)return i.apply(r,u);l=t;try{c=i.apply(r,u),o()}finally{for(l=void 0;e<n.length;)s=n[e],e++,s();e=0,n=[]}return c},i=function(){return l?l.id:void 0},d=function(n,e){var i,o,u,s;return s=!1,o=!1,i=function(){return o=!0},u=function(){return s=!0,i()},i=n.dispatcher.subscribe(function(n){return t(function(){var t;return s||(t=e(n),t!==r.noMore)?void 0:u()})}),o&&i(),u},c=function(){return f.length>0},{whenDoneWith:p,hasWaiters:c,inTransaction:a,currentEventId:i,wrappedSubscribe:d,afterTransaction:t}}(),r.EventStream=p,r.Property=b,r.Observable=v,r.Bus=o,r.Initial=g,r.Next=m,r.End=l,r.Error=f,rn=function(){},Q=function(t,n){return n},D=function(t){return t},R=function(t){return new g(t,!0)},en=function(t){return new m(t,!0)},W=function(){return new l},ln=function(t){return t instanceof h?t:en(t)},C=function(t){return t.slice(0)},_=function(t,n){if(!n)throw new d(t)},I=function(t){if(!(t instanceof p))throw new d("not an EventStream : "+t)},O=function(t){if(!(t instanceof v))throw new d("not an Observable : "+t)},M=function(t){return _("not a function : "+t,G(t))},G=function(t){return"function"==typeof t},z=function(t){return t instanceof Array},J=function(t){return t instanceof v},A=function(t){if(!z(t))throw new d("not an array : "+t)},L=function(t){return _("no arguments supported",0===t.length)},P=function(t){if("string"!=typeof t)throw new d("not a string : "+t)},on=function(t,n){return function(){var e;return e=1<=arguments.length?wn.call(arguments,0):[],t.apply(null,n.concat(e))}},nn=function(t){return 1===t.length&&J(t[0])?yn.always(t[0]):X(t)},X=function(t){return t=Array.prototype.slice.call(t),Y.apply(null,t)},Y=mn(function(){var t,n;return n=arguments[0],t=2<=arguments.length?wn.call(arguments,1):[],G(n)?t.length?on(n,t):n:U(n)?fn(n,t):yn.always(n)}),K=function(t,n){return Y.apply(null,[t].concat(wn.call(n)))},B=function(t){return G(t)?t:yn.always(t)},tn=function(t){return J(t)?t:r.once(t)},U=function(t){return"string"==typeof t&&t.length>1&&"."===t.charAt(0)},r.isFieldKey=U,fn=function(t,n){var e,r;return r=t.slice(1).split("."),e=yn.map(dn(n),r),function(n){var r,i;for(r=0,i=e.length;i>r;r++)t=e[r],n=t(n);return n}},dn=function(t){return function(n){return function(e){var r;return null==e?void 0:(r=e[n],G(r)?r.apply(e,t):r)}}},hn=function(t){return t.slice(1)},an=function(t){var n;return G(t)?t:U(t)?(n=hn(t),function(t,e){return t[n](e)}):_("not a function or a field key: "+t,!1)},pn=function(t){return t instanceof k||t===y?t:new k(t)},"undefined"!=typeof t&&null!==t&&null!=t.amd?(t([],function(){return r}),this.Bacon=r):"undefined"!=typeof e&&null!==e&&null!=e.exports?(e.exports=r,r.Bacon=r):this.Bacon=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,n,e){e=n.exports=function(t){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;n&&(t=n)}if("number"==typeof t)return u[t];var e=String(t),o=r[e.toLowerCase()];if(o)return o;var o=i[e.toLowerCase()];return o?o:1===e.length?e.charCodeAt(0):void 0};var r=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,windows:91,command:91,"right click":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222,"⇧":16,"⌥":18,"⌃":17,"⌘":91},i=e.aliases={shift:16,ctl:17,ctrl:17,control:17,alt:18,option:18,pause:19,"break":19,caps:20,escape:27,spc:32,pgup:33,pgdn:33,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */
for(o=97;123>o;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;58>o;o++)r[o-48]=o;for(o=1;13>o;o++)r["f"+o]=o+111;for(o=0;10>o;o++)r["numpad "+o]=o+96;var u=e.names=e.title={};for(o in r)u[r[o]]=o;for(var s in i)r[s]=i[s]},{}],4:[function(n,e,r){(function(n){(function(){function n(t){this.tokens=[],this.tokens.links={},this.options=t||h.defaults,this.rules=p.normal,this.options.gfm&&(this.rules=this.options.tables?p.tables:p.gfm)}function i(t,n){if(this.options=n||h.defaults,this.links=t,this.rules=d.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?d.breaks:d.gfm:this.options.pedantic&&(this.rules=d.pedantic)}function o(t){this.options=t||{}}function u(t){this.tokens=[],this.token=null,this.options=t||h.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(t,n){return t.replace(n?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function c(t){return t.replace(/&([#\w]+);/g,function(t,n){return n=n.toLowerCase(),"colon"===n?":":"#"===n.charAt(0)?String.fromCharCode("x"===n.charAt(1)?parseInt(n.substring(2),16):+n.substring(1)):""})}function a(t,n){return t=t.source,n=n||"",function e(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),t=t.replace(r,i),e):new RegExp(t,n)}}function l(){}function f(t){for(var n,e,r=1;r<arguments.length;r++){n=arguments[r];for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t}function h(t,e,r){if(r||"function"==typeof e){r||(r=e,e=null),e=f({},h.defaults,e||{});var i,o,c=e.highlight,a=0;try{i=n.lex(t,e)}catch(l){return r(l)}o=i.length;var p=function(){var t,n;try{t=u.parse(i,e)}catch(o){n=o}return e.highlight=c,n?r(n):r(null,t)};if(!c||c.length<3)return p();if(delete e.highlight,!o)return p();for(;a<i.length;a++)!function(t){return"code"!==t.type?--o||p():c(t.text,t.lang,function(n,e){return null==e||e===t.text?--o||p():(t.text=e,t.escaped=!0,void(--o||p()))})}(i[a])}else try{return e&&(e=f({},h.defaults,e)),u.parse(n.lex(t,e),e)}catch(l){if(l.message+="\nPlease report this to https://github.com/chjj/marked.",(e||h.defaults).silent)return"<p>An error occured:</p><pre>"+s(l.message+"",!0)+"</pre>";throw l}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:l,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:l,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:l,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=a(p.item,"gm")(/bull/g,p.bullet)(),p.list=a(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=a(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=a(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=a(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=f({},p),p.gfm=f({},p.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),p.gfm.paragraph=a(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=f({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),n.rules=p,n.lex=function(t,e){var r=new n(e);return r.lex(t)},n.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},n.prototype.token=function(t,n,e){for(var r,i,o,u,s,c,a,l,f,t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(n&&(o=this.rules.nptable.exec(t))){for(t=t.substring(o[0].length),c={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},l=0;l<c.align.length;l++)c.align[l]=/^ *-+: *$/.test(c.align[l])?"right":/^ *:-+: *$/.test(c.align[l])?"center":/^ *:-+ *$/.test(c.align[l])?"left":null;for(l=0;l<c.cells.length;l++)c.cells[l]=c.cells[l].split(/ *\| */);this.tokens.push(c)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,n,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),u=o[2],this.tokens.push({type:"list_start",ordered:u.length>1}),o=o[0].match(this.rules.item),r=!1,f=o.length,l=0;f>l;l++)c=o[l],a=c.length,c=c.replace(/^ *([*+-]|\d+\.) +/,""),~c.indexOf("\n ")&&(a-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+a+"}","gm"),"")),this.options.smartLists&&l!==f-1&&(s=p.bullet.exec(o[l+1])[0],u===s||u.length>1&&s.length>1||(t=o.slice(l+1).join("\n")+t,l=f-1)),i=r||/\n\n(?!\s*$)/.test(c),l!==f-1&&(r="\n"===c.charAt(c.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(c,!1,e),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===o[1]||"script"===o[1]||"style"===o[1],text:o[0]});else if(!e&&n&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(n&&(o=this.rules.table.exec(t))){for(t=t.substring(o[0].length),c={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;l<c.align.length;l++)c.align[l]=/^ *-+: *$/.test(c.align[l])?"right":/^ *:-+: *$/.test(c.align[l])?"center":/^ *:-+ *$/.test(c.align[l])?"left":null;for(l=0;l<c.cells.length;l++)c.cells[l]=c.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(n&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var d={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:l,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:l,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};d._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,d._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,d.link=a(d.link)("inside",d._inside)("href",d._href)(),d.reflink=a(d.reflink)("inside",d._inside)(),d.normal=f({},d),d.pedantic=f({},d.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),d.gfm=f({},d.normal,{escape:a(d.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(d.text)("]|","~]|")("|","|https?://|")()}),d.breaks=f({},d.gfm,{br:a(d.br)("{2,}","*")(),text:a(d.gfm.text)("{2,}","*")()}),i.rules=d,i.output=function(t,n,e){var r=new i(n,e);return r.output(t)},i.prototype.output=function(t){for(var n,e,r,i,o="";t;)if(i=this.rules.escape.exec(t))t=t.substring(i[0].length),o+=i[1];else if(i=this.rules.autolink.exec(t))t=t.substring(i[0].length),"@"===i[2]?(e=this.mangle(":"===i[1].charAt(6)?i[1].substring(7):i[1]),r=this.mangle("mailto:")+e):(e=s(i[1]),r=e),o+=this.renderer.link(r,null,e);else if(this.inLink||!(i=this.rules.url.exec(t))){if(i=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),t=t.substring(i[0].length),o+=this.options.sanitize?s(i[0]):i[0];else if(i=this.rules.link.exec(t))t=t.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(t))||(i=this.rules.nolink.exec(t))){if(t=t.substring(i[0].length),n=(i[2]||i[1]).replace(/\s+/g," "),n=this.links[n.toLowerCase()],!n||!n.href){o+=i[0].charAt(0),t=i[0].substring(1)+t;continue}this.inLink=!0,o+=this.outputLink(i,n),this.inLink=!1}else if(i=this.rules.strong.exec(t))t=t.substring(i[0].length),o+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(t))t=t.substring(i[0].length),o+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(t))t=t.substring(i[0].length),o+=this.renderer.codespan(s(i[2],!0));else if(i=this.rules.br.exec(t))t=t.substring(i[0].length),o+=this.renderer.br();else if(i=this.rules.del.exec(t))t=t.substring(i[0].length),o+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(t))t=t.substring(i[0].length),o+=s(this.smartypants(i[0]));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(i[0].length),e=s(i[1]),r=e,o+=this.renderer.link(r,null,e);return o},i.prototype.outputLink=function(t,n){var e=s(n.href),r=n.title?s(n.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(e,r,this.output(t[1])):this.renderer.image(e,r,s(t[1]))},i.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},i.prototype.mangle=function(t){for(var n,e="",r=t.length,i=0;r>i;i++)n=t.charCodeAt(i),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e},o.prototype.code=function(t,n,e){if(this.options.highlight){var r=this.options.highlight(t,n);null!=r&&r!==t&&(e=!0,t=r)}return n?'<pre><code class="'+this.options.langPrefix+s(n,!0)+'">'+(e?t:s(t,!0))+"\n</code></pre>\n":"<pre><code>"+(e?t:s(t,!0))+"\n</code></pre>"},o.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},o.prototype.html=function(t){return t},o.prototype.heading=function(t,n,e){return"<h"+n+' id="'+this.options.headerPrefix+e.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+n+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(t,n){var e=n?"ol":"ul";return"<"+e+">\n"+t+"</"+e+">\n"},o.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},o.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},o.prototype.table=function(t,n){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+n+"</tbody>\n</table>\n"},o.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},o.prototype.tablecell=function(t,n){var e=n.header?"th":"td",r=n.align?"<"+e+' style="text-align:'+n.align+'">':"<"+e+">";return r+t+"</"+e+">\n"},o.prototype.strong=function(t){return"<strong>"+t+"</strong>"},o.prototype.em=function(t){return"<em>"+t+"</em>"},o.prototype.codespan=function(t){return"<code>"+t+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(t){return"<del>"+t+"</del>"},o.prototype.link=function(t,n,e){if(this.options.sanitize){try{var r=decodeURIComponent(c(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(i){return""}if(0===r.indexOf("javascript:"))return""}var o='<a href="'+t+'"';return n&&(o+=' title="'+n+'"'),o+=">"+e+"</a>"},o.prototype.image=function(t,n,e){var r='<img src="'+t+'" alt="'+e+'"';return n&&(r+=' title="'+n+'"'),r+=this.options.xhtml?"/>":">"},u.parse=function(t,n,e){var r=new u(n,e);return r.parse(t)},u.prototype.parse=function(t){this.inline=new i(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var n="";this.next();)n+=this.tok();return n},u.prototype.next=function(){return this.token=this.tokens.pop()},u.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},u.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},u.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,n,e,r,i,o="",u="";for(e="",t=0;t<this.token.header.length;t++)r={header:!0,align:this.token.align[t]},e+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(e),t=0;t<this.token.cells.length;t++){for(n=this.token.cells[t],e="",i=0;i<n.length;i++)e+=this.renderer.tablecell(this.inline.output(n[i]),{header:!1,align:this.token.align[i]});u+=this.renderer.tablerow(e)}return this.renderer.table(o,u);case"blockquote_start":for(var u="";"blockquote_end"!==this.next().type;)u+=this.tok();return this.renderer.blockquote(u);case"list_start":for(var u="",s=this.token.ordered;"list_end"!==this.next().type;)u+=this.tok();return this.renderer.list(u,s);case"list_item_start":for(var u="";"list_item_end"!==this.next().type;)u+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(u);case"loose_item_start":for(var u="";"list_item_end"!==this.next().type;)u+=this.tok();return this.renderer.listitem(u);case"html":var c=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(c);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},l.exec=l,h.options=h.setOptions=function(t){return f(h.defaults,t),h},h.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o,xhtml:!1},h.Parser=u,h.parser=u.parse,h.Renderer=o,h.Lexer=n,h.lexer=n.lex,h.InlineLexer=i,h.inlineLexer=i.output,h.parse=h,"object"==typeof r?e.exports=h:"function"==typeof t&&t.amd?t(function(){return h}):this.marked=h}).call(function(){return this||("undefined"!=typeof window?window:n)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,n){"use strict";function e(t){return function(n){return n.keyCode===t}}var r=function(t){return t&&(t["default"]||t)},i=r(t("baconjs")),o=r(t("keycode")),u=i.fromEventTarget(document,"keyup"),s=i.fromEventTarget(document,"keydown");n.exports={key:function(t){var n="string"==typeof t?o(t):t;return u.filter(e(n))},keydown:function(t){var n="string"==typeof t?o(t):t;return s.filter(e(n))},click:function(t){return i.fromEventTarget(t,"click")},mousemove:function(){var t=void 0===arguments[0]?document.body:arguments[0];return i.fromEventTarget(t,"mousemove")},resize:function(){return i.fromEventTarget(window,"resize")},hashchange:function(){return i.fromEventTarget(window,"hashchange")}}},{baconjs:2,keycode:3}],6:[function(t,n){"use strict";function e(t){var n=void 0,e=void 0;return t.requestFullscreen?n="requestFullscreen":t.webkitRequestFullscreen?n="webkitRequestFullscreen":t.mozRequestFullScreen?n="mozRequestFullScreen":t.msRequestFullscreen&&(n="msRequestFullscreen"),document.exitFullscreen?e="exitFullscreen":document.webkitExitFullscreen?e="webkitExitFullscreen":document.mozCancelFullScreen?e="mozCancelFullScreen":document.msExitFullscreen&&(e="msExitFullscreen"),function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document[e]():t[n]()}}{var r=function(t){return t&&(t["default"]||t)},i=r(t("baconjs"));r(t("./control"))}n.exports=function(t){var n=new i.Bus;return n.onValue(e(t)),n}},{"./control":5,baconjs:2}],7:[function(t,n){"use strict";function e(){var t=void 0===arguments[0]?{}:arguments[0],n=o.defaults(t,{api:!1,wide:!0,control:!0,pointer:!0,progress:!0,backface:!0}),e=n.wide?I:_,r=n.wide?M:A;document.querySelector("head").insertAdjacentHTML("beforeend","\n    <style>\n      #"+d+",\n      [layout] {\n        width: "+e+"px !important;\n        height: "+r+"px !important;\n      }\n    </style>"),o.toArray(document.querySelectorAll('[type="'+k+'"]')).forEach(c);var s=o.toArray(document.querySelectorAll("["+x+"]"));document.body.insertAdjacentHTML("beforeend",'\n    <div id="'+d+'"></div>\n  ');var L=o.getById(d);s.forEach(function(t){return L.appendChild(t)});var O=f({width:e,height:r,target:L});O.plug(u.resize());var P=a({startPage:o.getPageNumberFromHash()||1,endPage:s.length,slideElements:s});if(P.nextBus.plug(u.key("right")),P.prevBus.plug(u.key("left")),P.moveBus.plug(u.hashchange().map(o.getPageNumberFromHash)),P.currentEs.onValue(function(t){return location.hash=t}),n.pointer){document.body.insertAdjacentHTML("beforeend",'<div id="'+b+'"></div>');var C=new i.Bus,j=new i.Bus,B=u.mousemove(),T=o.getById(b);C.plug(B),j.plug(B),C.map(function(t){return t.x}).onValue(o.styleAssignOf(T,"left")),C.map(function(t){return t.y}).onValue(o.styleAssignOf(T,"top"));var F=o.styleAssignOf(T,"visibility");u.keydown("b").map("visible").onValue(F),u.key("b").map("hidden").onValue(F)}if(n.backface){document.body.insertAdjacentHTML("beforeend",'<div id="'+w+'"></div>');var q=o.getById(w),W=new i.Bus,N=new i.Bus;W.plug(P.changedEs),N.plug(P.changedEs),W.map(".getAttribute",E).map(function(t){return t?'url("'+t+'")':""}).onValue(o.styleAssignOf(q,"background-image")),N.map(".getAttribute",S).onValue(o.styleAssignOf(q,o.stylePrefixDetect("filter"))),i.fromArray(s).map(".getAttribute",E).filter(function(t){return!!t}).onValue(o.preloadImg)}if(n.control){document.body.insertAdjacentHTML("beforeend",'\n      <div id="'+g+'">\n        <p><span id="'+p+'">&lt;</span>\n        Page <span id="'+m+'">0</span> of <span id="'+y+'">0</span>\n        <span id="'+h+'">&gt;</span></p>\n      </div>\n    ');var V=o.getById(h),$=o.getById(p);P.nextBus.plug(u.click(V)),P.prevBus.plug(u.click($)),P.currentEs.onValue(o.textAssignOf(o.getById(m))),i.once(s.length).onValue(o.textAssignOf(o.getById(y)))}return n.progress&&(document.body.insertAdjacentHTML("beforeend",'<div id="'+v+'"></div>'),P.percentEs.onValue(o.styleAssignOf(o.getById(v),"width"))),l(document.body).plug(u.key("f")),{control:u,changed:P.changedEs,next:P.nextBus,prev:P.prevBus,jump:P.moveBus}}var r=function(t){return t&&(t["default"]||t)},i=(r(t("6to5/browser-polyfill")),r(t("baconjs"))),o=r(t("./util")),u=r(t("./control")),s=r(t("./query")),c=r(t("./markdown")),a=r(t("./paging")),l=r(t("./fullscreen")),f=r(t("./responsive")),h="next",p="prev",d="scaler",g="control",m="page",y="total",v="progress",b="pointer",w="backface",k="text/x-markdown",x="layout",E="backface",S="backface-filter",_=1024,A=768,I=1366,M=768;n.exports=function(){var t=void 0===arguments[0]?{}:arguments[0];return t.api?{main:e,util:o,control:u,query:s,markdown:c,paging:a,fullScreen:l,responsive:f,Bacon:i}:e(t)}},{"./control":5,"./fullscreen":6,"./markdown":8,"./paging":9,"./query":10,"./responsive":11,"./util":12,"6to5/browser-polyfill":1,baconjs:2}],8:[function(t,n){"use strict";function e(t){var n=document.createElement("section");return n.innerHTML=u(t.innerHTML),s.toArray(t.attributes).filter(i).forEach(r(n)),t.parentNode.replaceChild(n,t),n}function r(t){return function(n){t.setAttribute(n.name,n.value)}}function i(t){return"type"!==t.name}var o=function(t){return t&&(t["default"]||t)},u=(o(t("baconjs")),o(t("marked"))),s=o(t("./util"));u.setOptions({langPrefix:"hljs ",highlight:function(t){return null==window.hljs?(console.log("highlight.js (`window.hljs`) is missing"),t):window.hljs.highlightAuto(t).value}}),n.exports=e},{"./util":12,baconjs:2,marked:4}],9:[function(t,n){"use strict";function e(t){t.removeAttribute("visible")}function r(t){t.setAttribute("visible",1)}function i(t,n){return function(e){return Math.min(n,Math.max(e,t))}}function o(t){return function(n){return 100/t*n+"%"}}{var u=function(t){return t&&(t["default"]||t)},s=u(t("baconjs"));u(t("./control")),u(t("./util"))}n.exports=function(t){var n=new s.Bus,u=new s.Bus,c=new s.Bus,a=new s.Bus,l=a.map(i(1,t.endPage)).toProperty(t.startPage||1).skipDuplicates(),f=l.sampledBy(n).map(function(t){return t+1}),h=l.sampledBy(u).map(function(t){return t-1}),p=c.map(function(t){return t}),d=l.map(o(t.endPage)),g=l.map(function(n){return t.slideElements[n-1]});return a.plug(f.merge(h).merge(p)),g.onValue(function(n){t.slideElements.forEach(e),n&&r(n)}),{currentEs:l,startEs:l.filter(function(t){return 1===t}),endEs:l.filter(function(n){return n===t.endPage}),changedEs:g,percentEs:d,nextBus:n,prevBus:u,moveBus:c}}},{"./control":5,"./util":12,baconjs:2}],10:[function(t,n){"use strict";function e(t){var n={};return t.slice(1,-1).split("&").map(function(t){return t.split("=")}).forEach(function(t){return n[t[0]]=t[1]}),n}n.exports=e},{}],11:[function(t,n){"use strict";function e(t){return function(){return window.innerWidth/t}}function r(t){return function(){return window.innerHeight/t}}function i(t){var n=c.stylePrefixDetect("transform");return function(e){t.style[n]="scale("+Math.abs(e)+")"}}function o(t){return function(){var n=t.getBoundingClientRect();t.style.left=(window.innerWidth-n.width)/2,t.style.top=(window.innerHeight-n.height)/2}}var u=function(t){return t&&(t["default"]||t)},s=u(t("baconjs")),c=u(t("./util"));n.exports=function(){var t=void 0===arguments[0]?{}:arguments[0],n=new s.Bus,u=e(t.width),a=r(t.height),l=n.map(u).toProperty(u()),f=n.map(a).toProperty(a()),h=c.compose(o(t.target),i(t.target));return s.combineWith(Math.min,l,f).onValue(h),n}},{"./util":12,baconjs:2}],12:[function(t,n){"use strict";n.exports={toArray:function(t){return Array.prototype.slice.call(t)},defaults:function(t,n){var e=this.clone(t);return Object.keys(n).forEach(function(t){t in e||(e[t]=n[t])}),e},clone:function(t){var n={};return Object.keys(t).forEach(function(e){return n[e]=t[e]}),n},compose:function(){var t=arguments,n=t.length-1;return function(){for(var e=n,r=t[n].apply(this,arguments);e--;)r=t[e].call(this,r);return r}},getById:function(t){return document.getElementById(t)},textAssignOf:function(t){return function(n){t.textContent=n}},styleAssignOf:function(t,n){return function(e){t.style[n]=e}},preloadImg:function(t){var n=document.createElement("img");n.onload=function(){return n.parentNode.removeChild(n)},n.src=t,n.style.display="none",document.body.appendChild(n)},getPageNumberFromHash:function(){return parseInt(location.hash.replace("#",""),10)||0},stylePrefixDetect:function(t){var n=void 0,e=this.toArray(window.getComputedStyle(document.documentElement,"")),r=function(t){return-1!==e.indexOf(t)};return r("-webkit-"+t)?n="-webkit-"+t:r("-moz-"+t)?n="-moz-"+t:r("-ms-"+t)?n="-ms-"+t:r(t)&&(n=t),n}}},{}]},{},[7])(7)});